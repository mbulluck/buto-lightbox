/*! buto-lightbox | buto.tv */
!function($,document,window){var defaults={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},colorbox="colorbox",prefix="cbox",boxElement=prefix+"Element",event_open=prefix+"_open",event_load=prefix+"_load",event_complete=prefix+"_complete",event_cleanup=prefix+"_cleanup",event_closed=prefix+"_closed",event_purge=prefix+"_purge",isIE=!$.support.leadingWhitespace,isIE6=isIE&&!window.XMLHttpRequest,event_ie6=prefix+"_IE6",$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,$events=$({}),settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,element,index,photo,open,active,closing,loadingTimer,publicMethod,div="div",className,requests=0,init;function $tag(tag,id,css){var element=document.createElement(tag);return id&&(element.id=prefix+id),css&&(element.style.cssText=css),$(element)}function winheight(){return window.innerHeight?window.innerHeight:$(window).height()}function getIndex(increment){var max=$related.length,newIndex=(index+increment)%max;return 0>newIndex?max+newIndex:newIndex}function setSize(size,dimension){return Math.round((/%/.test(size)?("x"===dimension?$window.width():winheight())/100:1)*parseInt(size,10))}function isImage(settings,url){return settings.photo||settings.photoRegex.test(url)}function retinaUrl(settings,url){return settings.retinaUrl&&window.devicePixelRatio>1?url.replace(settings.photoRegex,settings.retinaSuffix):url}function trapFocus(e){"contains"in $box[0]&&!$box[0].contains(e.target)&&(e.stopPropagation(),$box.focus())}function makeSettings(){var i,data=$.data(element,colorbox);null==data?(settings=$.extend({},defaults),console&&console.log):settings=$.extend({},data);for(i in settings)$.isFunction(settings[i])&&"on"!==i.slice(0,2)&&(settings[i]=settings[i].call(element));settings.rel=settings.rel||element.rel||$(element).data("rel")||"nofollow",settings.href=settings.href||$(element).attr("href"),settings.title=settings.title||element.title,"string"==typeof settings.href&&(settings.href=$.trim(settings.href))}function trigger(event,callback){$(document).trigger(event),$events.trigger(event),$.isFunction(callback)&&callback.call(element)}function slideshow(){var timeOut,className=prefix+"Slideshow_",click="click."+prefix,clear,set,start,stop;settings.slideshow&&$related[1]?(clear=function(){clearTimeout(timeOut)},set=function(){(settings.loop||$related[index+1])&&(timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed))},start=function(){$slideshow.html(settings.slideshowStop).unbind(click).one(click,stop),$events.bind(event_complete,set).bind(event_load,clear).bind(event_cleanup,stop),$box.removeClass(className+"off").addClass(className+"on")},stop=function(){clear(),$events.unbind(event_complete,set).unbind(event_load,clear).unbind(event_cleanup,stop),$slideshow.html(settings.slideshowStart).unbind(click).one(click,function(){publicMethod.next(),start()}),$box.removeClass(className+"on").addClass(className+"off")},settings.slideshowAuto?start():stop()):$box.removeClass(className+"off "+className+"on")}function launch(target){closing||(element=target,makeSettings(),$related=$(element),index=0,"nofollow"!==settings.rel&&($related=$("."+boxElement).filter(function(){var data=$.data(this,colorbox),relRelated;return data&&(relRelated=$(this).data("rel")||data.rel||this.rel),relRelated===settings.rel}),index=$related.index(element),-1===index&&($related=$related.add(element),index=$related.length-1)),$overlay.css({opacity:parseFloat(settings.opacity),cursor:settings.overlayClose?"pointer":"auto",visibility:"visible"}).show(),open||(open=active=!0,$box.css({visibility:"hidden",display:"block"}),$loaded=$tag(div,"LoadedContent","width:0; height:0; overflow:hidden").appendTo($content),interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(!0)-$content.height(),interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(!0)-$content.width(),loadedHeight=$loaded.outerHeight(!0),loadedWidth=$loaded.outerWidth(!0),settings.w=setSize(settings.initialWidth,"x"),settings.h=setSize(settings.initialHeight,"y"),publicMethod.position(),isIE6&&$window.bind("resize."+event_ie6+" scroll."+event_ie6,function(){$overlay.css({width:$window.width(),height:winheight(),top:$window.scrollTop(),left:$window.scrollLeft()})}).trigger("resize."+event_ie6),slideshow(),trigger(event_open,settings.onOpen),$groupControls.add($title).hide(),$close.html(settings.close).show(),$box.focus(),document.addEventListener&&(document.addEventListener("focus",trapFocus,!0),$events.one(event_closed,function(){document.removeEventListener("focus",trapFocus,!0)})),settings.returnFocus&&$events.one(event_closed,function(){$(element).focus()})),publicMethod.load(!0))}function appendHTML(){!$box&&document.body&&(init=!1,$window=$(window),$box=$tag(div).attr({id:colorbox,"class":isIE?prefix+(isIE6?"IE6":"IE"):"",role:"dialog",tabindex:"-1"}).hide(),$overlay=$tag(div,"Overlay",isIE6?"position:absolute":"").hide(),$loadingOverlay=$tag(div,"LoadingOverlay").add($tag(div,"LoadingGraphic")),$wrap=$tag(div,"Wrapper"),$content=$tag(div,"Content").append($title=$tag(div,"Title"),$current=$tag(div,"Current"),$prev=$tag("button","Previous"),$next=$tag("button","Next"),$slideshow=$tag("button","Slideshow"),$loadingOverlay,$close=$tag("button","Close")),$wrap.append($tag(div).append($tag(div,"TopLeft"),$topBorder=$tag(div,"TopCenter"),$tag(div,"TopRight")),$tag(div,!1,"clear:left").append($leftBorder=$tag(div,"MiddleLeft"),$content,$rightBorder=$tag(div,"MiddleRight")),$tag(div,!1,"clear:left").append($tag(div,"BottomLeft"),$bottomBorder=$tag(div,"BottomCenter"),$tag(div,"BottomRight"))).find("div div").css({"float":"left"}),$loadingBay=$tag(div,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),$groupControls=$next.add($prev).add($current).add($slideshow),$(document.body).append($overlay,$box.append($wrap,$loadingBay)))}function addBindings(){function clickHandler(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),launch(this))}return $box?(init||(init=!0,$next.click(function(){publicMethod.next()}),$prev.click(function(){publicMethod.prev()}),$close.click(function(){publicMethod.close()}),$overlay.click(function(){settings.overlayClose&&publicMethod.close()}),$(document).bind("keydown."+prefix,function(e){var key=e.keyCode;open&&settings.escKey&&27===key&&(e.preventDefault(),publicMethod.close()),open&&settings.arrowKey&&$related[1]&&!e.altKey&&(37===key?(e.preventDefault(),$prev.click()):39===key&&(e.preventDefault(),$next.click()))}),$.isFunction($.fn.on)?$(document).on("click."+prefix,"."+boxElement,clickHandler):$("."+boxElement).live("click."+prefix,clickHandler)),!0):!1}$.colorbox||($(appendHTML),publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var $this=this;if(options=options||{},appendHTML(),addBindings()){if($.isFunction($this))$this=$("<a/>"),options.open=!0;else if(!$this[0])return $this;callback&&(options.onComplete=callback),$this.each(function(){$.data(this,colorbox,$.extend({},$.data(this,colorbox)||defaults,options))}).addClass(boxElement),($.isFunction(options.open)&&options.open.call($this)||options.open)&&launch($this[0])}return $this},publicMethod.position=function(speed,loadedCallback){var css,top=0,left=0,offset=$box.offset(),scrollTop,scrollLeft;$window.unbind("resize."+prefix),$box.css({top:-9e4,left:-9e4}),scrollTop=$window.scrollTop(),scrollLeft=$window.scrollLeft(),settings.fixed&&!isIE6?(offset.top-=scrollTop,offset.left-=scrollLeft,$box.css({position:"fixed"})):(top=scrollTop,left=scrollLeft,$box.css({position:"absolute"})),left+=settings.right!==!1?Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.right,"x"),0):settings.left!==!1?setSize(settings.left,"x"):Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2),top+=settings.bottom!==!1?Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.bottom,"y"),0):settings.top!==!1?setSize(settings.top,"y"):Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2),$box.css({top:offset.top,left:offset.left,visibility:"visible"}),speed=$box.width()===settings.w+loadedWidth&&$box.height()===settings.h+loadedHeight?0:speed||0,$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(that){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=parseInt(that.style.width,10)-interfaceWidth+"px",$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=parseInt(that.style.height,10)-interfaceHeight+"px"}css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left},0===speed&&$box.css(css),$box.dequeue().animate(css,{duration:speed,complete:function(){modalDimensions(this),active=!1,$wrap[0].style.width=settings.w+loadedWidth+interfaceWidth+"px",$wrap[0].style.height=settings.h+loadedHeight+interfaceHeight+"px",settings.reposition&&setTimeout(function(){$window.bind("resize."+prefix,publicMethod.position)},1),loadedCallback&&loadedCallback()},step:function(){modalDimensions(this)}})},publicMethod.resize=function(options){open&&(options=options||{},options.width&&(settings.w=setSize(options.width,"x")-loadedWidth-interfaceWidth),options.innerWidth&&(settings.w=setSize(options.innerWidth,"x")),$loaded.css({width:settings.w}),options.height&&(settings.h=setSize(options.height,"y")-loadedHeight-interfaceHeight),options.innerHeight&&(settings.h=setSize(options.innerHeight,"y")),options.innerHeight||options.height||($loaded.css({height:"auto"}),settings.h=$loaded.height()),$loaded.css({height:settings.h}),publicMethod.position("none"===settings.transition?0:settings.speed))},publicMethod.prep=function(object){if(open){var callback,speed="none"===settings.transition?0:settings.speed;$loaded.empty().remove(),$loaded=$tag(div,"LoadedContent").append(object);function getWidth(){return settings.w=settings.w||$loaded.width(),settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w,settings.w}function getHeight(){return settings.h=settings.h||$loaded.height(),settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h,settings.h}$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.scrolling?"auto":"hidden"}).css({height:getHeight()}).prependTo($content),$loadingBay.hide(),$(photo).css({"float":"none"}),callback=function(){var total=$related.length,iframe,frameBorder="frameBorder",allowTransparency="allowTransparency",complete;if(open){function removeFilter(){isIE&&$box[0].style.removeAttribute("filter")}complete=function(){clearTimeout(loadingTimer),$loadingOverlay.hide(),trigger(event_complete,settings.onComplete)},isIE&&photo&&$loaded.fadeIn(100),$title.html(settings.title).add($loaded).show(),total>1?("string"==typeof settings.current&&$current.html(settings.current.replace("{current}",index+1).replace("{total}",total)).show(),$next[settings.loop||total-1>index?"show":"hide"]().html(settings.next),$prev[settings.loop||index?"show":"hide"]().html(settings.previous),settings.slideshow&&$slideshow.show(),settings.preloading&&$.each([getIndex(-1),getIndex(1)],function(){var src,img,i=$related[this],data=$.data(i,colorbox);data&&data.href?(src=data.href,$.isFunction(src)&&(src=src.call(i))):src=$(i).attr("href"),src&&isImage(data,src)&&(src=retinaUrl(data,src),img=new Image,img.src=src)})):$groupControls.hide(),settings.iframe?(iframe=$tag("iframe")[0],frameBorder in iframe&&(iframe[frameBorder]=0),allowTransparency in iframe&&(iframe[allowTransparency]="true"),settings.scrolling||(iframe.scrolling="no"),$(iframe).attr({src:settings.href,name:(new Date).getTime(),"class":prefix+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",complete).appendTo($loaded),$events.one(event_purge,function(){iframe.src="//about:blank"}),settings.fastIframe&&$(iframe).trigger("load")):complete(),"fade"===settings.transition?$box.fadeTo(speed,1,removeFilter):removeFilter()}},"fade"===settings.transition?$box.fadeTo(speed,0,function(){publicMethod.position(0,callback)}):publicMethod.position(speed,callback)}},publicMethod.load=function(launched){var href,setResize,prep=publicMethod.prep,$inline,request=++requests;active=!0,photo=!1,element=$related[index],launched||makeSettings(),className&&$box.add($overlay).removeClass(className),settings.className&&$box.add($overlay).addClass(settings.className),className=settings.className,trigger(event_purge),trigger(event_load,settings.onLoad),settings.h=settings.height?setSize(settings.height,"y")-loadedHeight-interfaceHeight:settings.innerHeight&&setSize(settings.innerHeight,"y"),settings.w=settings.width?setSize(settings.width,"x")-loadedWidth-interfaceWidth:settings.innerWidth&&setSize(settings.innerWidth,"x"),settings.mw=settings.w,settings.mh=settings.h,settings.maxWidth&&(settings.mw=setSize(settings.maxWidth,"x")-loadedWidth-interfaceWidth,settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw),settings.maxHeight&&(settings.mh=setSize(settings.maxHeight,"y")-loadedHeight-interfaceHeight,settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh),href=settings.href,loadingTimer=setTimeout(function(){$loadingOverlay.show()},100),settings.inline?($inline=$tag(div).hide().insertBefore($(href)[0]),$events.one(event_purge,function(){$inline.replaceWith($loaded.children())}),prep($(href))):settings.iframe?prep(" "):settings.html?prep(settings.html):isImage(settings,href)?(href=retinaUrl(settings,href),$(photo=new Image).addClass(prefix+"Photo").bind("error",function(){settings.title=!1,prep($tag(div,"Error").html(settings.imgError))}).one("load",function(){var percent;request===requests&&(settings.retinaImage&&window.devicePixelRatio>1&&(photo.height=photo.height/window.devicePixelRatio,photo.width=photo.width/window.devicePixelRatio),settings.scalePhotos&&(setResize=function(){photo.height-=photo.height*percent,photo.width-=photo.width*percent},settings.mw&&photo.width>settings.mw&&(percent=(photo.width-settings.mw)/photo.width,setResize()),settings.mh&&photo.height>settings.mh&&(percent=(photo.height-settings.mh)/photo.height,setResize())),settings.h&&(photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+"px"),$related[1]&&(settings.loop||$related[index+1])&&(photo.style.cursor="pointer",photo.onclick=function(){publicMethod.next()}),isIE&&(photo.style.msInterpolationMode="bicubic"),setTimeout(function(){prep(photo)},1))}),setTimeout(function(){photo.src=href},1)):href&&$loadingBay.load(href,settings.data,function(data,status){request===requests&&prep("error"===status?$tag(div,"Error").html(settings.xhrError):$(this).contents())})},publicMethod.next=function(){!active&&$related[1]&&(settings.loop||$related[index+1])&&(index=getIndex(1),publicMethod.load())},publicMethod.prev=function(){!active&&$related[1]&&(settings.loop||index)&&(index=getIndex(-1),publicMethod.load())},publicMethod.close=function(){open&&!closing&&(closing=!0,open=!1,trigger(event_cleanup,settings.onCleanup),$window.unbind("."+prefix+" ."+event_ie6),$overlay.fadeTo(200,0),$box.stop().fadeTo(300,0,function(){$box.add($overlay).css({opacity:1,cursor:"auto"}).hide(),trigger(event_purge),$loaded.empty().remove(),setTimeout(function(){closing=!1,trigger(event_closed,settings.onClosed)},1)}))},publicMethod.remove=function(){$([]).add($box).add($overlay).remove(),$box=null,$("."+boxElement).removeData(colorbox).removeClass(boxElement),$(document).unbind("click."+prefix)},publicMethod.element=function(){return $(element)},publicMethod.settings=defaults)}(jQuery,document,window),function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define(factory):root.Spinner=factory()}(this,function(){"use strict";var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations;function createEl(tag,prop){var el=document.createElement(tag||"div"),n;for(n in prop)el[n]=prop[n];return el}function ins(parent){for(var i=1,n=arguments.length;n>i;i++)parent.appendChild(arguments[i]);return parent}var sheet=function(){var el=createEl("style",{type:"text/css"});return ins(document.getElementsByTagName("head")[0],el),el.sheet||el.styleSheet}();function addAnimation(alpha,trail,i,lines){var name=["opacity",trail,~~(100*alpha),i,lines].join("-"),start=.01+i/lines*100,z=Math.max(1-(1-alpha)/trail*(100-start),alpha),prefix=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),pre=prefix&&"-"+prefix+"-"||"";return animations[name]||(sheet.insertRule("@"+pre+"keyframes "+name+"{0%{opacity:"+z+"}"+start+"%{opacity:"+alpha+"}"+(start+.01)+"%{opacity:1}"+(start+trail)%100+"%{opacity:"+alpha+"}100%{opacity:"+z+"}}",sheet.cssRules.length),animations[name]=1),name}function vendor(el,prop){var s=el.style,pp,i;for(prop=prop.charAt(0).toUpperCase()+prop.slice(1),i=0;i<prefixes.length;i++)if(pp=prefixes[i]+prop,void 0!==s[pp])return pp;return void 0!==s[prop]?prop:void 0}function css(el,prop){for(var n in prop)el.style[vendor(el,n)||n]=prop[n];return el}function merge(obj){for(var i=1;i<arguments.length;i++){var def=arguments[i];for(var n in def)void 0===obj[n]&&(obj[n]=def[n])}return obj}function pos(el){var o={x:el.offsetLeft,y:el.offsetTop};while(el=el.offsetParent)o.x+=el.offsetLeft,o.y+=el.offsetTop;return o}function getColor(color,idx){return"string"==typeof color?color:color[idx%color.length]}var defaults={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};function Spinner(o){this.opts=merge(o||{},Spinner.defaults,defaults)}Spinner.defaults={},merge(Spinner.prototype,{spin:function(target){this.stop();var self=this,o=self.opts,el=self.el=css(createEl(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),mid=o.radius+o.length+o.width;if(css(el,{left:o.left,top:o.top}),target&&target.insertBefore(el,target.firstChild||null),el.setAttribute("role","progressbar"),self.lines(el,self.opts),!useCssAnimations){var i=0,start=(o.lines-1)*(1-o.direction)/2,alpha,fps=o.fps,f=fps/o.speed,ostep=(1-o.opacity)/(f*o.trail/100),astep=f/o.lines;!function anim(){i++;for(var j=0;j<o.lines;j++)alpha=Math.max(1-(i+(o.lines-j)*astep)%f*ostep,o.opacity),self.opacity(el,j*o.direction+start,alpha,o);self.timeout=self.el&&setTimeout(anim,~~(1e3/fps))}()}return self},stop:function(){var el=this.el;return el&&(clearTimeout(this.timeout),el.parentNode&&el.parentNode.removeChild(el),this.el=void 0),this},lines:function(el,o){var i=0,start=(o.lines-1)*(1-o.direction)/2,seg;function fill(color,shadow){return css(createEl(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:color,boxShadow:shadow,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*i+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(;i<o.lines;i++)seg=css(createEl(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:useCssAnimations&&addAnimation(o.opacity,o.trail,start+i*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&ins(seg,css(fill("#000","0 0 4px #000"),{top:"2px"})),ins(el,ins(seg,fill(getColor(o.color,i),"0 0 1px rgba(0,0,0,.1)")));return el},opacity:function(el,i,val){i<el.childNodes.length&&(el.childNodes[i].style.opacity=val)}});function initVML(){function vml(tag,attr){return createEl("<"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',attr)}sheet.addRule(".spin-vml","behavior:url(#default#VML)"),Spinner.prototype.lines=function(el,o){var r=o.length+o.width,s=2*r;function grp(){return css(vml("group",{coordsize:s+" "+s,coordorigin:-r+" "+-r}),{width:s,height:s})}var margin=2*-(o.width+o.length)+"px",g=css(grp(),{position:"absolute",top:margin,left:margin}),i;function seg(i,dx,filter){ins(g,ins(css(grp(),{rotation:360/o.lines*i+"deg",left:~~dx}),ins(css(vml("roundrect",{arcsize:o.corners}),{width:r,height:o.width,left:o.radius,top:-o.width>>1,filter:filter}),vml("fill",{color:getColor(o.color,i),opacity:o.opacity}),vml("stroke",{opacity:0}))))}if(o.shadow)for(i=1;i<=o.lines;i++)seg(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=o.lines;i++)seg(i);return ins(el,g)},Spinner.prototype.opacity=function(el,i,val,o){var c=el.firstChild;o=o.shadow&&o.lines||0,c&&i+o<c.childNodes.length&&(c=c.childNodes[i+o],c=c&&c.firstChild,c=c&&c.firstChild,c&&(c.opacity=val))}}var probe=css(createEl("group"),{behavior:"url(#default#VML)"});return!vendor(probe,"transform")&&probe.adj?initVML():useCssAnimations=vendor(probe,"animation"),Spinner}),function($){var getObjectData=function(object_id,uri){return $.ajax({dataType:"jsonp",type:"get",jsonpCallback:"callback"+object_id+"a",url:uri+"/"+object_id+".jsonp?callback=?"})};$.fn.butoLightbox=function(options){var settings=$.extend({api_uri:"//api.buto.tv/v2/video",play_icon:"https://buto.secure.footprint.net/butotv/live/static/buto/img/html_5_embed_play_icon_60x60.png",class_name:"buto-lightbox-container"},options);return this.each(function(){var element=$(this);element.addClass(settings.class_name);var object_id=element.data("id"),spinner=(new Spinner).spin(this),video_response=getObjectData(object_id,settings.api_uri);video_response.success(function(data){var title=data.media_title;void 0!==options&&options.hasOwnProperty("title")&&"video"===options.title&&(title=data.video_title);var anchor=$("<a>").prop("href","//embed.buto.tv/"+object_id).prop("title",title),play_icon=$("<img>").prop("src",settings.play_icon).addClass("buto-lightbox-play-icon");play_icon.on("load",function(e){var play_icon_width=e.target.clientWidth/2,play_icon_height=e.target.clientHeight/2;e.target.setAttribute("style","margin-left:-"+play_icon_width+"px;margin-top:-"+play_icon_height+"px")});var image=$("<img>").prop("src",data.uri.poster_frame).prop("alt",title);0===element.height()||void 0===element.height()?image.prop("height",data.published_height).prop("width",data.published_width):image.prop("width",element.width()).prop("height",element.height()),anchor.append(play_icon),anchor.append(image),anchor.colorbox({iframe:!0,innerWidth:data.published_width,innerHeight:data.published_height}),spinner.stop(),element.append(anchor)})})}}(jQuery);